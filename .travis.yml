sudo: required
env:
  global:
  - CXX=g++-4.8
language: java
jdk:
- oraclejdk8
before_install:
- chmod +x gradlew
- sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
- sudo apt-add-repository -y ppa:brightbox/ruby-ng
- sudo apt-get -qq update
- sudo apt-get -qq install g++-4.8
- sudo apt-get -qq install python-software-properties
- sudo apt-get -qq install ruby2.1
- sudo apt-get -qq install ruby-switch
- sudo ruby-switch --set ruby2.1
- ruby -v
- gem install travis -v 1.8.8 --no-rdoc --no-ri
- travis version
script:
- "./gradlew clean build -i --continue"
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
after_success:
- codacy-coverage-reporter -l Java -r build/reports/jacoco/test/jacocoTestReport.xml
  --prefix src/main/java/
deploy:
  provider: heroku
  app: mylittleblack
  api_key:
    secure: eHVIy6o1WC5rapvN6rWxEDV7iYyjVwkq+P9NkueZGfyNUjpksHevSF8k4uVOdGlacoY0/3T8RbGX5XzfPcG/r1mZnJlEjfyzMvdRd1RJeEwUU9lyPrcVkSmFPbKAIKjra1SNpj7esFXGxPhtfcuG6IR9GXE2XeGfCq/MxV4cBnzUdJJmnmx+wx6n636QpvPODZTKhkl+dxdmxldIiy2l+Df/QFyMxAlosH4fL7BO0lFps1D+EvWhVyL0Z4jYhmeMPVKR/BR5GXg5B1vNhlTgiPuVDRp/5rW3NV9aF3Jp7cTKk9dE3QtwE7Yh5h57poMyFjO8e0BgAq5mOaN5P3fY4/lhbz19wfZaXKfpNDqtTWB6iuHY407GucQLaaKHQxB+rlG+Zk4pWV5ZzR6wL/d8iplcF0c294bqLA2z9YX2zXVqOIGjG4uZ2Zwr8M82u+/Ek6maZjf3MGmYXfzAnCD7F9bnV3unjYNV1jY0+2J9yRrjC7fe23OizlN1BB2+ugDA+Mp9SppYl1l9Wm878aW2y4nl0fvSwqR9F//QPnjpQJzFmZz6bo2oFyp6KLjAOvtt8edTZzZGWU8wqrCEecIZCEZ1E0bO9sK4VthaVmqY70k9rxl7cq3Hva3saifJBTY0Xnjz2eocuJNQg5O4ACwFqG2sULhKpIeeW2koY8j0CKM=
  on:
    repo: rogeriobarros/mylittleblack
