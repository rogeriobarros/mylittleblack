sudo: required
env:
  global:
  - CXX=g++-4.8
language: java
jdk:
- oraclejdk8
before_install:
- chmod +x gradlew
- sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
- sudo apt-add-repository -y ppa:brightbox/ruby-ng
- sudo apt-get -qq update
- sudo apt-get -qq install g++-4.8
- sudo apt-get -qq install python-software-properties
- sudo apt-get -qq install ruby2.1
- sudo apt-get -qq install ruby-switch
- sudo ruby-switch --set ruby2.1
- ruby -v
- gem install travis -v 1.8.8 --no-rdoc --no-ri
- travis version
script:
- "./gradlew clean build -i --continue"
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
after_success:
- codacy-coverage-reporter -l Java -r build/reports/jacoco/test/jacocoTestReport.xml
  --prefix src/main/java/
deploy:
  provider: heroku
  app: mylittleblack
  on:
    repo: rogeriobarros/mylittleblack
  api:
    secure: P08vIM9T/vbm2r7kJAQRrvZWjz4SQ0yfAj60mLKXf4gozlt8mdakf+OF+VFNgiAK2S4K5lNdbZtlp4n19AT7pCwZO6dT/+axBpi5tN5lX2il0aWSlKXzH2xMgwsBO2Rlt6MV6ONrrjFPbmY644W4D222sNJ0fyW+mckMsJgzLfMNYQmgkfiwhX7Rjo1C897Frx8ZKANFqRMSC0NE0P+7cOcakiI6YiPB7k8+sxapaBFzZk4THjlvsO5bvkYLGBLprDHcHPLlkWvmvwXCQ+nbGjo+DXmE3VBZxET445juI17C0jG4xnwC4u6j60uW+1jTfxHGt7fTCgkGmuxyoOtSGmcLQ8ZEBePpX6jtujluJ1VJy7JzB19guS2KGdBlNNfrSMJ6Z8hAZolMpnQnmXv7jYJ3oYk9P6lAnVRUXHJLWuqDS32zdtA43wjnICHGb4JW5l0oTxzaqdsc/Jz5LR/VV+ibapgYmJEF9Zg5pvT/jhmIOzUWJj9YWWK1+M8zR4jnDATy3fGTGnAU1fTY/MX8oY4v9W174131sJSatmv16h3FGDAQPo0WHcxuuKRmBx7VT5H1j7y2MrD6m4Sj6Ie0Wjv8dir6Tt8Mqvh7/JJpJ1Q3f2/ug0H2JBClbhZGFiKvsaH/wnAYkwdFQFRSRGRjQzEfj8bOIyEMb+iTBkQaeG4=
